<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" />

    <meta name="generator" content="sphinx-3.5.4, furo 2020.12.30.beta24"/>
        <title>Home - Vector Correction 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script defer="defer" src="_static/jquery.js"></script>
    <script defer="defer" src="_static/underscore.js"></script>
    <script defer="defer" src="_static/doctools.js"></script>
    <script defer="defer" src="_static/clipboard.min.js"></script>
    <script defer="defer" src="_static/copybutton.js"></script>
    <script defer src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">Vector Correction 0.0.1 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">
  
  
  <span class="sidebar-brand-text">Vector Correction 0.0.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  
</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="qgis-vector-correction-plugin-documentation">
<h1>QGIS Vector Correction Plugin - Documentation<a class="headerlink" href="#qgis-vector-correction-plugin-documentation" title="Permalink to this headline">¶</a></h1>
<p><img alt="the plugin" src="_images/plugin.png"/></p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The Vector Correction plugin allows users to warp and correct vector layers through the creation of correction
vectors which specify how different parts of the vector layer should be deformed.</p>
<p>The plugin offers a range of techniques for warping layers, including</p>
<ul class="simple">
<li><p>Linear</p></li>
<li><p>Projective</p></li>
<li><p>Helmert</p></li>
<li><p>Thin Plate Splines</p></li>
<li><p>Polynomial (Orders 1-3)</p></li>
</ul>
<p><em>The plugin requires QGIS 3.20 or later.</em></p>
<p>The plugin is created by <a class="reference external" href="http://north-road.com">North Road Consulting</a> on behalf of Natural Resources Canada.</p>
</div>
<div class="section" id="workflow">
<h2>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h2>
<p>The plugin is designed around a specific workflow for correcting vector layers against a reference basemap.
All plugin actions are controlled through the Vector Correction Toolbar, which will be shown as soon as the
plugin is installed:</p>
<p><img alt="Plugin Toolbar" src="_images/toolbar.png"/></p>
<div class="section" id="project-setup">
<h3>Project Setup<a class="headerlink" href="#project-setup" title="Permalink to this headline">¶</a></h3>
<p>First, a QGIS project containing the reference layers to correct against must be created.</p>
<p>The layers to correct should then be added to the project, and each made editable via the standard
QGIS <em>Toggle Editing</em> action:</p>
<p><img alt="Editable layer" src="_images/editable.png"/></p>
<p><strong>Important: Whenever a correction is applied it will warp <em>all</em> layers which are marked as editable, not just the active layer!</strong></p>
</div>
<div class="section" id="digitize-correction-vectors">
<h3>Digitize Correction Vectors<a class="headerlink" href="#digitize-correction-vectors" title="Permalink to this headline">¶</a></h3>
<p>Users should then draw one or more <em>correction vectors</em> by clicking the “Draw Corrections” tool in the plugin
toolbar:</p>
<p><img alt="Draw correction button" src="_images/draw_correction_button.png"/></p>
<p>Correction vectors are created by clicking first on the origin point with the left mouse button, and then clicking on
the destination point with the left mouse button. Correction vectors are shown with a numbered arrow symbol
on the map:</p>
<p><img alt="Draw correction button" src="_images/vectors.png"/></p>
<p><strong>Note: The Draw Corrections tool respects any snapping configuration currently defined for the project, so
you can snap precisely to existing features if desired!</strong></p>
<p>In order to make it easier to precisely position the destination point a semi-transparent overlay showing
features from the target layers will follow the mouse cursor as the user draws correction vectors.</p>
</div>
<div class="section" id="area-of-interest">
<h3>Area of Interest<a class="headerlink" href="#area-of-interest" title="Permalink to this headline">¶</a></h3>
<p>An <em>Area of Interest</em> (AOI) must also be defined by clicking the AOI tool and then clicking and dragging
to draw a rectangular area over the map.</p>
<p><img alt="Draw AOI tool" src="_images/draw_aoi_tool.png"/></p>
<p>This area defines the region which will be impacted by the vector correction.</p>
<p><strong>Only <em>vertices</em> from features which fall within the AOI will be corrected, and any features or vertices which sit outside
the AOI will be left untouched by the correction.</strong> This ensures that features retain their topological
relationships after corrections are applied.</p>
</div>
<div class="section" id="apply-corrections">
<h3>Apply Corrections<a class="headerlink" href="#apply-corrections" title="Permalink to this headline">¶</a></h3>
<p>After the correction vectors have been drawn and the AOI set, the user can click the “Apply Correction” button
to calculate and apply the correction to all editable layers:</p>
<p><img alt="Apply correction" src="_images/apply_correction.png"/></p>
<p>The correction will be applied to the layers, but stored only in the edit buffer for the layers so
can be freely undone/redone as desired. It is necessary to click the standard QGIS “Save Edits” button in order to make the changes permanent and update the
underlying data source.</p>
</div>
</div>
<div class="section" id="correction-table">
<h2>Correction Table<a class="headerlink" href="#correction-table" title="Permalink to this headline">¶</a></h2>
<p>By clicking the “Show GCPs” button a Correction Table dock window will be opened, summarizing all digitized
correction vectors will be shown:</p>
<p><img alt="Show GCPs" src="_images/show_gcps.png"/></p>
<p>This table includes:</p>
<ul class="simple">
<li><p>A row number, which is also shown next to all vector correction lines on the map</p></li>
<li><p>The source X and Y coordinate</p></li>
<li><p>The destination X and Y coordinate</p></li>
<li><p>The residual for each correction. This will be shown as soon as a sufficient number of correction vectors have been drawn and
it is possible to calculate the transformation required.</p></li>
</ul>
<p><img alt="GCP table" src="_images/table.png"/></p>
<p>Rows can be removed from the table by selecting them and then clicking the “Delete Selected Rows” button.</p>
<p>Additionally, the toolbar contains controls for exporting and importing the vector corrections, or saving
them to a standard line layer (e.g. as a Shapefile or GeoPackage).</p>
</div>
<div class="section" id="plugin-options">
<h2>Plugin Options<a class="headerlink" href="#plugin-options" title="Permalink to this headline">¶</a></h2>
<p>From the Correction Table dock clicking the Settings button will open the plugin settings. Options include:</p>
<ul class="simple">
<li><p>Transformation method: specifies which mathematical method to use to calculate the transformation. Different
methods will achieve different corrections, so experiment with the available options to determine which
works best in different situations.</p></li>
<li><p>The line symbol to use to show the correction vector arrows on the map.</p></li>
<li><p>The fill symbol to use for showing the area of interest on the map.</p></li>
</ul>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          
          
        </div>

        <div class="related-information">
              Copyright &#169; 2016 - 2021, North Road
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/index.md.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">QGIS Vector Correction Plugin - Documentation</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#workflow">Workflow</a><ul>
<li><a class="reference internal" href="#project-setup">Project Setup</a></li>
<li><a class="reference internal" href="#digitize-correction-vectors">Digitize Correction Vectors</a></li>
<li><a class="reference internal" href="#area-of-interest">Area of Interest</a></li>
<li><a class="reference internal" href="#apply-corrections">Apply Corrections</a></li>
</ul>
</li>
<li><a class="reference internal" href="#correction-table">Correction Table</a></li>
<li><a class="reference internal" href="#plugin-options">Plugin Options</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
  </body>
</html>